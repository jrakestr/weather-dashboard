services:
  # Backend API service and Frontend static site combined into a single web service
  - type: web
    name: weather-dashboard
    env: node
    buildCommand: |
      npm install
      cd client && npm install && npm run build
      cd ../server && npm install && npm run build
    startCommand: node server/dist/server.js
    envVars:
      - key: OPENWEATHER_API_KEY
        sync: false
